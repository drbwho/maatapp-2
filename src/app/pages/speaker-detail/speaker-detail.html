<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/app/tabs/people/speakers/all/0"></ion-back-button>
    </ion-buttons>
    <ion-title>{{speaker?.fname}} {{speaker?.lname}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding speaker-detail">
  <div *ngIf="speaker" class="ion-text-center">
    <img *ngIf="speaker.prof_img" [src]="speaker.prof_img" alt="">
    <img *ngIf="!speaker.prof_img" src="/assets/img/avatar.png" alt="">
    <br>
    <ion-col>
      <div class="ion-text-center">
        {{speaker.desgn}}
      </div>
      <div class="ion-text-center">
        {{speaker.org}}
      </div>
    </ion-col>
    <ion-list  *ngIf="speaker.capacity.length > 0" class="speaker-capacity ion-no-padding">
      <div *ngFor="let capacity of speaker.capacity">
        {{capacity.title}}
      </div>
    </ion-list>
    <ion-list *ngIf="speaker.wg.length > 0" class="speaker-wg">
      <span *ngFor="let wg of speaker.wg">
        {{wg.code}}
      </span>
    </ion-list>

    <ion-button fill="clear" size="small" color="twitter" (click)="openExternalUrl('https://twitter.com/' + speaker.twitter)" [disabled]="!speaker.twitter">
      <ion-icon name="logo-twitter" slot="icon-only"></ion-icon>
    </ion-button>
    <ion-button fill="clear" size="small" color="facebook" (click)="openExternalUrl('https://twitter.com/' + speaker.facebook)" [disabled]="!speaker.facebook">
      <ion-icon name="logo-facebook" slot="icon-only"></ion-icon>
    </ion-button>
    <ion-button fill="clear" size="small" color="linkedin" (click)="openExternalUrl('https://linkedin.com/' + speaker.linkedin)" [disabled]="!speaker.linkedin">
      <ion-icon name="logo-linkedin" slot="icon-only"></ion-icon>
    </ion-button>


  <p [innerHTML]="speaker?.desc"></p>

  <ion-list *ngIf="speaker.sessions.length > 0">

    <ion-item-sliding *ngFor="let session of speaker.sessions" #slidingItem >
      <ion-item routerLink="/app/tabs/program/schedule/session/{{session.id}}" routerDirection="forward">
        <ion-label>
          <h2><strong>{{session.title}}</strong></h2>
          <ion-row>
            <p>
              {{session.date.replace("00:00:00","").trim() | date:' d MMMM yyyy'}}
            </p>
          </ion-row>
          <p>
            {{session.startTime}} &mdash; {{session.endTime}}: <ion-note slot="end"><strong>{{session.roomName}}</strong></ion-note>
          </p>
        </ion-label>
      </ion-item>
    </ion-item-sliding>

</ion-list>

<ion-list-header *ngIf="speaker.sessions.length === 0">
  No Sessions Found
</ion-list-header>
</div>
</ion-content>

<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Chat Channels</ion-title>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="presentSearcher()">
        <ion-icon slot="icon-only" name="search-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
  <!--<ion-toolbar>
    <ion-searchbar [(ngModel)]="queryText" (ionChange)="updateResults()" placeholder="Search"></ion-searchbar>
  </ion-toolbar>-->
</ion-header>

<ion-content [fullscreen]="true">
  <ion-list>
    <ion-item *ngFor="let channel of results" (click)="openChat(channel)">
      <ion-avatar slot="start">
        <img src="/assets/img/avatar.png" alt="" *ngIf="channel.type == 'd'">
        <img src="/assets/img/group.png" alt="" *ngIf="channel.type != 'd'" >
        <ion-icon name="radio-button-on" [ngStyle]="{'color': channel.status == 'online'? 'green' : 'red'}" *ngIf="channel.type == 'd'"></ion-icon>
      </ion-avatar>
      <ion-grid>
        <ion-row>
          <ion-col>
            <span [ngStyle]="{'font-weight': channel.type == 'd'? 'normal' : 'bold'}">{{channel.name}}</span>&nbsp;<span *ngIf="channel.type == 'd'">({{channel.username}})</span>
            <span class="chip" *ngIf="channel.unread">{{channel.unread}}</span>
            <div class="updatedAt" text-right>{{channel.updated | date:'short'}}</div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
    <ion-item *ngIf="results.length==0">No results found</ion-item>
  </ion-list>
</ion-content>
